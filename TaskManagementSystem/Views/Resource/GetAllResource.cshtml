@model IEnumerable<TMS.DataTransferObject.DTOResource>

@{
    /**/

    ViewBag.Title = "GetAllResource";
    Layout = "~/Views/Shared/_DashboardLayoutPage.cshtml";
}
@Styles.Render("~/Content/dataTables")
<h2>GetAllResource</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<div class="container">
    <div class="panel panel-default">

        <div class="panel-heading border">
            <div class="panel-title pull-left">
                <h4>Yearly Leave : 10</h4>
            </div>
            <button id='showGame'>Show Game Listing</button>

            @Html.ActionLink("ViewLyubomir ", "ViewLyubomir", "Leave", null, new { @class = "modal-link btn btn-success" })
            @*@Html.ActionLink("_AddLeaves", "_AddLeaves", "Leave", null)*@
            <div class="panel-title pull-right"><h3><a class="btn btn-outline-secondary" href="#" data-toggle="modal" data-target="#modalRegister"><strong>Add Resource</strong></a></h3></div>
            <div class="clearfix"></div>
        </div>
        </br>
        <div class="panel-body">
            <table class="table table-striped table-bordered" cellspacing="0" width="100%" id="table_id">
                <thead>
                    <tr>
                        <th style="width:120px">
                            Resource Name
                        </th>
                        <th style="width:100px">
                            Role
                        </th>
                        <th style="width:170px">
                            Email
                        </th>
                        <th style="width:60px">
                            Project
                        </th>

                        <th style="width:60px">
                            DOB
                        </th>
                        <th style="width:60px">
                            Joining Date
                        </th>
                        <th style="width:60px">
                            IsActive?
                        </th>
                        <th style="width:60px"> Action </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr class="gradeX">
                            <td>
                                @Html.DisplayFor(modelItem => item.ResourceName).
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Role)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Email)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.ProjectNames)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DOB.ToString().Split(' ')[0])
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.JoiningDate.ToString().Split(' ')[0])
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.IsActive)
                            </td>
                            <td>
                                @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                                @*@Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |*@
                                @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            <div id="modal-container" class="modal fade"
                 tabindex="-1" role="dialog">
                <div class="modal-content">
                </div>
            </div>

        </div>
    </div>
</div>
<style>
    .modal-content {
        width: 600px !important;
        margin: 30px auto !important;
    }
</style>
@section scripts {

    @Scripts.Render("~/bundles/dataTables")

    <script type="text/javascript">

        $(document).ready(function () {
            $('#table_id').DataTable(
                {
                    "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]]

                }
            );

            $(function () {
                // Initialize numeric spinner input boxes
                //$(".numeric-spinner").spinedit();
                // Initialize modal dialog
                // attach modal-container bootstrap attributes to links with .modal-link class.
                // when a link is clicked with these attributes, bootstrap will display the href content in a modal dialog.
                $('body').on('click', '.modal-link', function (e) {
                    e.preventDefault();
                    $(this).attr('data-target', '#modal-container');
                    $(this).attr('data-toggle', 'modal');
                });
                // Attach listener to .modal-close-btn's so that when the button is pressed the modal dialog disappears
                $('body').on('click', '.modal-close-btn', function () {
                    $('#modal-container').modal('hide');
                });
                //clear modal cache, so that new content can be loaded
                $('#modal-container').on('hidden.bs.modal', function () {
                    $(this).removeData('bs.modal');
                });
                $('#CancelModal').on('click', function () {
                    return false;
                });
            });
        });





    </script>
}
